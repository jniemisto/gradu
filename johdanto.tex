\section{Johdanto}

Googlen kehittämä Android on noussut viime vuosina markkinaosuudeltaan suurimmaksi mobiililaitteiden käyttöjärjestelmäksi. Kuka tahansa voi kehittää Androidille sovelluksia, ja niiden kehittämiseen tarvittavat välineet ovat ilmaiseksi saatavilla. Erilaisia sovelluksia onkin kehitetty jo yli 500 000.

Mobiilisovellusten kehittämiseen liittyy monia haasteita. Niitä ovat muunmuassa rajalliset laitteistoresurssit, käytettävyys pienellä näytöllä sekä yksityisyyteen ja tietoturvaan liittyvät kysymykset. Androidilla on esimerkiksi Applen iOS-alustaan verrattuna omana haasteenaan laitteiden valtava kirjo. Android-laitteita valmistavat kymmenet eri valmistajat ja ne vaihtelevat kameroista tablettien kautta digibokseihin. Laitteissa on hyvin eritehoisia prosessoreita. Myös lisälaitteita, kuten gps- tai kiihtyvyysantureita, on vaihtelevasti.

Sovellusten laatu on erityisen tärkeää Android-alustalla, jossa kilpailua on runsaasti ja sovellusten hinta useimmiten niin alhainen, ettei se muodosta estettä sovelluksen vaihtamiselle toiseen. Sovelluskauppa on myös aina saatavilla suoraan laitteesta. Nämä kilpailutekijät asettavat sovellusten testaamisellekin haasteita. Toisaalta sovellukset tulisi saada nopeasti sovelluskauppaan, mutta myös sovellusten laadun pitäisi olla hyvä. Testityökalujen pitäisi siis olla helppokäyttöisiä ja tehokkaita. Androidille onkin kehitetty useita testaustyökaluja Googlen omien työkalujen lisäksi.

Tutkimuksen tavoitteena on perehtyä Android-sovellusten rakenteeseen, niiden testaamiseen ja Android-alustalla toimiviin automaattisen testauksen työkaluihin. Tutustun kirjallisuudessa esiteltyihin sekä Androidin kehitystyökalujen mukana tuleviin testaustyökaluihin. Kirjallisuuskatsauksen lisäksi vertailen työkaluja testaamalla niiden avulla esimerkkisovellusta ja analysoin testien perusteella niiden puutteita ja vahvuuksia.

Käsittelen tässä tutkielmassa vain Androidille Javalla kehitettyjä natiivisovelluksia. Androidille voi kehittää sovelluksia myös muunmuassa html5:llä ja erilaisilla työkaluilla, jotka generoivat automaattisesti natiivikoodia useille mobiilialustoille. Osa testaustyökaluista mahdollistaa toki myös tällaisten sovellusten testaamisen. Keskityn vain automaattisiin testaustyökaluihin, joten esimerkiksi manuaaliseen käytettävyystestaukseen liittyvät prosessit ja työkalut on rajattu tämän työn ulkopuolelle.

Keskityn yksikkö- ja toiminnallisiin testityökaluihin. Yksikkötestityökaluja käyttävät useimmiten sovelluksen ohjelmoijat itse sovelluksen koodausvaiheessa. Yleistä on myös yksikkötestien kirjoittaminen jo ennen vastaavan ohjelmakoodin kirjoittamista. Toiminnallisissa testeissä testataan sovellusta hieman korkeammalta tasolta ja pyritään varmistamaan haluttujen toiminnallisuuksien toiminta kokonaisuudessaan sovelluksessa. Nämä työkalut olen valinnut huomion kohteeksi, koska toiminnallinen ja yksikkötestaus ovat yleisimmät testauksen muodot mobiilisovellusta kehitettäessä ja työkaluvalikoima on myös monipuolisin.

Toisessa luvussa esittelen Androidin kehitystyökaluja sekä arkkitehtuuria sovellusten kehittäjän näkökulmasta. Luvussa tutustutaan Androidin tärkeimpiin komponentteihin: aktiviteetteihin, palveluihin ja sisällöntarjoajiin sekä komponenttien väliseen kommunikointiin aikeiden avulla. Lisäksi esittelen Android manifestin ja Android-sovellusten julkaisun.

Kolmannessa luvussa käsitellään ohjelmistojen testaamisen perusasioita, testausta osana ohjelmistotuotantoprosessia sekä mobiilisovellusten testaamisen erityispiirteitä. Lisäksi pohditaan testaustyökalujen arviointia ja laatukriteerejä. 

Neljännessä luvussa käsitellään Android-sovellusten testauksen perusteita sekä esitellään Androidin kehitystyökalupaketin mukana tulevia testityökaluja, kuten Monkeyrunner, Monkey ja Uiautomator.

Viidennessä luvussa syvennytään yksikkötestityökaluihin. Vertailen Androidin yksikkötestikehystä avoimen lähdekoodin Robolectriciin, joka pyrkii tarjoamaan Androidin oman yksikkötestikehyksen ominaisuudet Javan omassa virtuaalikoneessa, jotta testien ajaminen olisi nopeampaa. Selvitän luvussa myös yksikkötestikehysten yhteensopivuutta jäljittelijäkehysten kanssa.

Kuudennessa luvussa käsitellään toiminnallisen testauksen työkaluja. Vertailen Androidin kehitystyökalujen mukana tulevan Uiautomator-työkalun lisäksi Robotium ja Troyd -testityökaluja. Kukin näistä työkaluista tarjoaa hieman erilaisen lähestymistavan ja abstraktiotason toiminnallisten testien kirjoittamiseen. Viimeisessä luvussa on yhteenveto.